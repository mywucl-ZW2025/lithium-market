# 锂矿与碳酸锂市场信息交互网页设计方案

**目标:** 创建一个基于公开数据源的交互式 HTML 网页，提供每日锂矿和碳酸锂市场信息，具备精美的可视化效果、移动端友好排版，并支持 PDF 导出。

---

## 一、 数据结构与来源

基于前期调研，数据将主要来源于公开的行情网站（如 SMM、期货交易所等）。

| 数据字段 | 来源/计算方式 | 目的 |
| :--- | :--- | :--- |
| **日期** | 爬取当日日期 | 标记数据时效性 |
| **电池级碳酸锂均价** | SMM 公开数据 | 核心现货价格指标 |
| **工业级碳酸锂均价** | SMM 公开数据 | 辅助现货价格指标 |
| **价格日涨跌幅** | (当日均价 - 昨日均价) / 昨日均价 | 突出市场变化 |
| **碳酸锂期货主力合约价** | 广州期货交易所公开数据 | 市场情绪与未来预期 |
| **价格走势（历史数据）** | 爬取近 30 日历史数据 | 用于生成价格走势图 |
| **智能分析摘要** | 基于价格、涨跌幅、期货价等数据，通过 AI 模型生成简短的市场总结和趋势判断。 | 满足用户“智能一点”的需求 |
| **供需关键点** | 爬取行业研报/新闻中的关键供需数据或结论。 | 支撑文字分析内容 |

---

## 二、 网页架构与模块划分

网页将采用单页应用（SPA）的结构，确保内容连贯且易于在移动端浏览。

| 模块名称 | 内容描述 | 可视化/交互方式 | 移动端优化重点 |
| :--- | :--- | :--- | :--- |
| **1. 顶部摘要** | 标题、最新日期、**智能分析摘要**（一句话总结）。 | 醒目大字、高亮显示。 | 简洁明了，一屏展示核心信息。 |
| **2. 核心价格看板** | 电池级碳酸锂均价、日涨跌幅、期货主力合约价。 | 卡片式设计，使用颜色（红/绿）突出涨跌。 | 垂直排列，卡片大小适应屏幕宽度。 |
| **3. 价格走势图** | 近 30 日电池级碳酸锂均价走势图。 | **ECharts 折线图**，支持缩放和悬停查看具体数值。 | 图表宽度自适应，确保图例和坐标轴清晰。 |
| **4. 供需分析** | 供需平衡关键数据（如库存、产量变化），以及文字分析。 | **ECharts 饼图/柱状图**（如库存结构），配合详细文字解读。 | 文字段落精简，图表上下排列。 |
| **5. 市场预测** | 基于研报和智能分析的短期价格预测区间和关键影响因素。 | 列表或卡片式展示，突出预测数字。 | 重点信息加粗，易于快速阅读。 |
| **6. 功能区** | **“导出 PDF 报告”** 按钮。 | 按钮置于页面顶部或底部固定位置。 | 按钮大小适中，易于点击。 |

---

## 三、 关键功能实现方案

### 1. 移动端友好排版 (Responsive Design)

*   **技术选型:** 使用 **Flexbox** 和 **CSS Grid** 进行布局。
*   **视口设置:** 必须包含 `<meta name="viewport" content="width=device-width, initial-scale=1.0">`。
*   **媒体查询:** 使用 `@media screen and (max-width: 600px)` 调整字体大小、卡片布局和图表尺寸，确保在手机上单列显示。

### 2. 智能分析与筛选

*   **数据筛选:** 爬取到的原始数据（如 SMM 价格）直接用于图表和看板。
*   **智能分析:** 
    1.  **输入:** 当日价格、日涨跌幅、期货价、历史趋势。
    2.  **处理:** 使用 AI 模型（如 `gpt-4.1-mini`）分析输入数据，生成一段 50-100 字的**市场总结**。
    3.  **输出示例:** "今日电池级碳酸锂均价小幅下跌 0.5%，市场观望情绪浓厚。期货主力合约收涨，显示市场对短期供需偏紧仍有预期。建议关注下游备货节奏。"

### 3. PDF 导出功能

*   **技术选型:** 使用 **jsPDF** 或 **html2canvas + jsPDF** 库。
*   **实现步骤:**
    1.  点击“导出 PDF”按钮。
    2.  使用 `html2canvas` 将整个网页内容（或特定区域）渲染成 Canvas 图像。
    3.  使用 `jsPDF` 将 Canvas 图像转换为 PDF 文档。
    4.  **排版优化:** 在生成 PDF 时，需要隐藏交互元素（如按钮），并确保图表在 PDF 中清晰可见。由于移动端排版是垂直单列，PDF 导出效果将保持一致的报告风格。

---

## 四、 技术栈

*   **前端:** HTML5, CSS3, JavaScript (ES6+)
*   **可视化:** ECharts (用于生成精美、交互式的图表)
*   **PDF 导出:** html2canvas + jsPDF
*   **数据处理:** Python (用于数据爬取、清洗和智能分析文本生成)

---

**下一步:** 基于此设计方案，我将开始进行环境准备和代码开发。
